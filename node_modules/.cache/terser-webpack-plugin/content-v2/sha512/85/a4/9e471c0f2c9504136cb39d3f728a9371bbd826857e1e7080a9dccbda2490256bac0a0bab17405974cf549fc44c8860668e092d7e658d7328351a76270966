{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{209:function(t,a,e){\"use strict\";e.r(a);var s=e(0),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h2\",{attrs:{id:\"catchadmin-扩展\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#catchadmin-扩展\"}},[t._v(\"#\")]),t._v(\" CatchAdmin 扩展\")]),t._v(\" \"),e(\"p\",[t._v(\"在开发项目的时候你会发现很多的不同，一些基础的方法之类的，但还是无法使用。这里着重介绍一些后台的隐藏功能。\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"配置\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置\"}},[t._v(\"#\")]),t._v(\" 配置\")]),t._v(\" \"),e(\"p\",[t._v(\"后台项目配置保存在 \"),e(\"code\",[t._v(\"config\\\\catch.php\")]),t._v(\" 文件中。都有哪些配置呢？下面一一介绍。\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[t._v(\"domain 设置之后只能使用该域名访问后台\")])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"permission\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"is_allow_get 允许所有 get 请求，不做权限校验\")]),t._v(\" \"),e(\"li\",[e(\"code\",[t._v(\"super_admin_id\")]),t._v(\" 默认 \"),e(\"code\",[t._v(\"1\")]),t._v(\"，对于用户\"),e(\"code\",[t._v(\"ID=1\")]),t._v(\"的用户不做权限校验\")])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"auth 认证\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"default 使用哪个门面。默认 admin\")]),t._v(\" \"),e(\"li\",[t._v(\"guard 门面\\n\"),e(\"ul\",[e(\"li\",[t._v(\"dirver 驱动，默认 admin 使用 jwt\")]),t._v(\" \"),e(\"li\",[t._v(\"provider 认证服务\")])])]),t._v(\" \"),e(\"li\",[t._v(\"providers 服务提供\\n\"),e(\"ul\",[e(\"li\",[t._v(\"driver orm 默认使用, 建议都使用他\")]),t._v(\" \"),e(\"li\",[t._v(\"model  用户模型来进行认证\")])])])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"validate 自定义规则\")])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"upload 上传服务校验\")])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"route_middleware 权限认证中间件\")])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"event 后台事件\")])])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"基类\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#基类\"}},[t._v(\"#\")]),t._v(\" 基类\")]),t._v(\" \"),e(\"p\",[t._v(\"存储目录 \"),e(\"code\",[t._v(\"extend\\\\catcher\\\\base\")]),t._v(\" 目录下, 一共提供四个基础类使用\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"CatchController 非必选 可以不用\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchModel 非必选 如果你不使用软删除的话可以不用该类\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchRequest 必选 对于 Request 尽量使用它\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchValidate 非必选 可不用\")])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"command\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#command\"}},[t._v(\"#\")]),t._v(\" command\")]),t._v(\" \"),e(\"p\",[t._v(\"存储目录 \"),e(\"code\",[t._v(\"extend\\\\catcher\\\\command\")]),t._v(\" 目录下, 一共提供四个基础类使用\\n文档中提到过的命令都存储在这里，有兴趣的可以看看。\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"event\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#event\"}},[t._v(\"#\")]),t._v(\" event\")]),t._v(\" \"),e(\"p\",[t._v(\"目前只提供了路由加载事件\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"exceptions\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#exceptions\"}},[t._v(\"#\")]),t._v(\" exceptions\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"CatchException 异常基类 后台所有异常都是继承\")]),t._v(\" \"),e(\"li\",[t._v(\"FailedException 失败异常\")]),t._v(\" \"),e(\"li\",[t._v(\"LoginFailedException 登陆失败\")]),t._v(\" \"),e(\"li\",[t._v(\"PermissionsForbiddenException 权限禁止\")]),t._v(\" \"),e(\"li\",[t._v(\"ValidateFailedException 验证失败\")])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"generate\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#generate\"}},[t._v(\"#\")]),t._v(\" generate\")]),t._v(\" \"),e(\"p\",[t._v(\"代码生成器，这个没啥好说的了\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"library\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#library\"}},[t._v(\"#\")]),t._v(\" library\")]),t._v(\" \"),e(\"p\",[t._v(\"目前提供了两个工具\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"comporess 打包解包\")]),t._v(\" \"),e(\"li\",[t._v(\"Http 客户端\")])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"traits\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#traits\"}},[t._v(\"#\")]),t._v(\" traits\")]),t._v(\" \"),e(\"p\",[t._v(\"只提供了 db 两个 trait 功能\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"db\\n\"),e(\"ul\",[e(\"li\",[t._v(\"baseoptiontrait CURD 基础操作\")]),t._v(\" \"),e(\"li\",[t._v(\"transtrait 事务操作\")])])])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"validates\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validates\"}},[t._v(\"#\")]),t._v(\" validates\")]),t._v(\" \"),e(\"p\",[t._v(\"自定义验证规则的文件可以放在这里。\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"其他\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#其他\"}},[t._v(\"#\")]),t._v(\" 其他\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"catchAdmin 基础后台的文件创建，路由文件缓存等功能\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchAdminService 核心，后台功能入口点\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchAuth 用户认证\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchCatchKeys 缓存 KEY 管理\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchExceptionHandle 后台异常接管，不在使用 app\\\\ExceptionHandle\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchUpoload 上传支持 七牛，oss，腾讯云，和本地\")]),t._v(\" \"),e(\"li\",[t._v(\"Code 异常码管理类\")]),t._v(\" \"),e(\"li\",[t._v(\"Tree 树状结构生成类\")]),t._v(\" \"),e(\"li\",[t._v(\"Utils 小工具类\")]),t._v(\" \"),e(\"li\",[t._v(\"CatchQuery 这个类要着重说一下，因为打交道最多的就是 Model 了\")])]),t._v(\" \"),e(\"h3\",{attrs:{id:\"catchqeury\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#catchqeury\"}},[t._v(\"#\")]),t._v(\" CatchQeury\")]),t._v(\" \"),e(\"p\",[t._v(\"该类也是接管了框架的 \"),e(\"code\",[t._v(\"Query\")]),t._v(\" 类了，可以在 \"),e(\"code\",[t._v(\"CatchAdminService\")]),t._v(\" 的方法 \"),e(\"code\",[t._v(\"registerQuery\")]),t._v(\" 找到该接管代码。\")]),t._v(\" \"),e(\"h4\",{attrs:{id:\"重写的方法\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#重写的方法\"}},[t._v(\"#\")]),t._v(\" 重写的方法\")]),t._v(\" \"),e(\"h5\",{attrs:{id:\"表链接\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#表链接\"}},[t._v(\"#\")]),t._v(\" 表链接\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"CatchJoin 该方法共有五个参数重要的是前四个\\n\"),e(\"ul\",[e(\"li\",[t._v(\"model Join 的模型\")]),t._v(\" \"),e(\"li\",[t._v(\"joinField join 模型的字段\")]),t._v(\" \"),e(\"li\",[t._v(\"currentJoinField 当前模型的关联的字段\")]),t._v(\" \"),e(\"li\",[t._v(\"field 需要 join 的模型查询的字段\")])])])]),t._v(\" \"),e(\"p\",[t._v(\"例如查询班级的学生，为代码\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-php extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-php\"}},[e(\"code\",[t._v(\"  \"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"Class\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"catchJoin\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"User\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token single-quoted-string string\"}},[t._v(\"'id'\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token single-quoted-string string\"}},[t._v(\"'user_id'\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),e(\"span\",{pre:!0,attrs:{class:\"token single-quoted-string string\"}},[t._v(\"'username'\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),e(\"h4\",{attrs:{id:\"过滤不需要的字段-主表字段\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#过滤不需要的字段-主表字段\"}},[t._v(\"#\")]),t._v(\" 过滤不需要的字段,主表字段\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"withoutField()\\n\"),e(\"ul\",[e(\"li\",[t._v(\"field 接受数组或者以 ， 分割的字符串\")]),t._v(\" \"),e(\"li\",[t._v(\"needAlias 防止连表字段重复\")])])])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"对于列表可以实现很好的搜索功能\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#对于列表可以实现很好的搜索功能\"}},[t._v(\"#\")]),t._v(\" 对于列表可以实现很好的搜索功能\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"catchSearch\")])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"wherelike\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#wherelike\"}},[t._v(\"#\")]),t._v(\" whereLike\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"whereLike\\n\"),e(\"ul\",[e(\"li\",[t._v(\"field 模糊查询字段\")]),t._v(\" \"),e(\"li\",[t._v(\"condition 条件\")])])])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"addfields\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addfields\"}},[t._v(\"#\")]),t._v(\" addFields\")]),t._v(\" \"),e(\"p\",[t._v(\"添加额外字段，例如在\")]),t._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[t._v(\"function($query) {$query->addFields()}\\n\")])])]),e(\"h4\",{attrs:{id:\"分页\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#分页\"}},[t._v(\"#\")]),t._v(\" 分页\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"paginate\\n结合后台自动获取 limit 字段，只需调用该方法即可\")])])])}),[],!1,null,null,null);a.default=v.exports}}]);","extractedComments":[]}